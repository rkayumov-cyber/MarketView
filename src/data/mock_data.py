"""Deterministic mock data for all market data endpoints."""

from datetime import UTC, datetime


def _ts() -> str:
    return datetime.now(UTC).isoformat()


def get_mock_snapshot() -> dict:
    """Mock data matching DataAggregator.get_quick_snapshot() shape."""
    return {
        "timestamp": _ts(),
        "spx": {
            "symbol": "^GSPC",
            "name": "S&P 500",
            "current_price": 5924.02,
            "previous_close": 5909.84,
            "open_price": 5912.50,
            "day_high": 5938.17,
            "day_low": 5901.22,
            "volume": 3_214_567_890,
            "change": 14.18,
            "change_percent": 0.24,
            "fifty_two_week_high": 6118.71,
            "fifty_two_week_low": 4953.56,
            "market_cap": None,
            "pe_ratio": 23.8,
            "dividend_yield": 0.0132,
            "timestamp": _ts(),
        },
        "vix": {
            "symbol": "^VIX",
            "name": "CBOE Volatility Index",
            "current_price": 16.32,
            "previous_close": 16.86,
            "open_price": 16.71,
            "day_high": 17.04,
            "day_low": 16.18,
            "volume": 0,
            "change": -0.54,
            "change_percent": -3.18,
            "fifty_two_week_high": 38.57,
            "fifty_two_week_low": 11.52,
            "market_cap": None,
            "pe_ratio": None,
            "dividend_yield": None,
            "timestamp": _ts(),
        },
        "dxy": {
            "value": 106.82,
            "change": -0.16,
            "change_percent": -0.15,
            "day_high": 107.12,
            "day_low": 106.54,
            "timestamp": _ts(),
        },
        "bitcoin": {
            "id": "bitcoin",
            "symbol": "BTC",
            "name": "Bitcoin",
            "current_price": 97432,
            "market_cap": 1_923_000_000_000,
            "market_cap_rank": 1,
            "total_volume": 42_300_000_000,
            "high_24h": 98_120,
            "low_24h": 95_840,
            "price_change_24h": 1790.44,
            "price_change_percentage_24h": 1.87,
            "price_change_percentage_7d": 4.23,
            "price_change_percentage_30d": 12.56,
            "circulating_supply": 19_800_000,
            "total_supply": 21_000_000,
            "ath": 108_786,
            "ath_change_percentage": -10.43,
            "atl": 67.81,
            "timestamp": _ts(),
        },
        "gold": {
            "symbol": "gold",
            "name": "Gold Futures",
            "price": 2918.40,
            "change": 12.18,
            "change_percent": 0.42,
            "day_high": 2926.50,
            "day_low": 2904.30,
            "volume": 182_340,
            "fifty_two_week_high": 2956.20,
            "fifty_two_week_low": 2287.40,
            "timestamp": _ts(),
        },
        "yield_curve": {
            "fed_funds": 5.33,
            "treasury_2y": 4.26,
            "treasury_5y": 4.13,
            "treasury_10y": 4.28,
            "treasury_30y": 4.51,
        },
    }


def get_mock_equities() -> dict:
    """Mock data matching DataAggregator._fetch_equities() shape."""
    return {
        "us": {
            "spx": {
                "symbol": "^GSPC",
                "name": "S&P 500",
                "current_price": 5924.02,
                "previous_close": 5909.84,
                "open_price": 5912.50,
                "day_high": 5938.17,
                "day_low": 5901.22,
                "volume": 3_214_567_890,
                "change": 14.18,
                "change_percent": 0.24,
                "fifty_two_week_high": 6118.71,
                "fifty_two_week_low": 4953.56,
                "market_cap": None,
                "pe_ratio": 23.8,
                "dividend_yield": 0.0132,
                "timestamp": _ts(),
            },
            "nasdaq": {
                "symbol": "^IXIC",
                "name": "NASDAQ Composite",
                "current_price": 19223.84,
                "previous_close": 19116.56,
                "open_price": 19134.20,
                "day_high": 19298.45,
                "day_low": 19089.12,
                "volume": 4_567_890_123,
                "change": 107.28,
                "change_percent": 0.56,
                "fifty_two_week_high": 20174.30,
                "fifty_two_week_low": 15708.54,
                "market_cap": None,
                "pe_ratio": 34.2,
                "dividend_yield": 0.0078,
                "timestamp": _ts(),
            },
            "dow": {
                "symbol": "^DJI",
                "name": "Dow Jones Industrial Average",
                "current_price": 43461.21,
                "previous_close": 43513.34,
                "open_price": 43489.00,
                "day_high": 43578.92,
                "day_low": 43398.17,
                "volume": 312_456_789,
                "change": -52.13,
                "change_percent": -0.12,
                "fifty_two_week_high": 45073.63,
                "fifty_two_week_low": 37611.56,
                "market_cap": None,
                "pe_ratio": 21.6,
                "dividend_yield": 0.0172,
                "timestamp": _ts(),
            },
            "russell2000": {
                "symbol": "^RUT",
                "name": "Russell 2000",
                "current_price": 2284.35,
                "previous_close": 2291.90,
                "open_price": 2289.15,
                "day_high": 2296.78,
                "day_low": 2271.42,
                "volume": 1_234_567_890,
                "change": -7.55,
                "change_percent": -0.33,
                "fifty_two_week_high": 2442.74,
                "fifty_two_week_low": 1942.08,
                "market_cap": None,
                "pe_ratio": 18.4,
                "dividend_yield": 0.0148,
                "timestamp": _ts(),
            },
        },
        "global": {
            "nikkei": {
                "symbol": "^N225",
                "name": "Nikkei 225",
                "current_price": 39423.12,
                "previous_close": 39494.32,
                "open_price": 39456.78,
                "day_high": 39612.45,
                "day_low": 39312.89,
                "volume": 1_456_789_012,
                "change": -71.20,
                "change_percent": -0.18,
                "fifty_two_week_high": 42426.77,
                "fifty_two_week_low": 33260.24,
                "market_cap": None,
                "pe_ratio": 22.1,
                "dividend_yield": 0.0182,
                "timestamp": _ts(),
            },
            "eurostoxx50": {
                "symbol": "^STOXX50E",
                "name": "EURO STOXX 50",
                "current_price": 5178.34,
                "previous_close": 5156.12,
                "open_price": 5162.45,
                "day_high": 5189.78,
                "day_low": 5148.23,
                "volume": 678_901_234,
                "change": 22.22,
                "change_percent": 0.43,
                "fifty_two_week_high": 5268.42,
                "fifty_two_week_low": 4420.18,
                "market_cap": None,
                "pe_ratio": 14.8,
                "dividend_yield": 0.0298,
                "timestamp": _ts(),
            },
            "ftse100": {
                "symbol": "^FTSE",
                "name": "FTSE 100",
                "current_price": 8712.45,
                "previous_close": 8685.52,
                "open_price": 8692.30,
                "day_high": 8734.18,
                "day_low": 8678.91,
                "volume": 567_890_123,
                "change": 26.93,
                "change_percent": 0.31,
                "fifty_two_week_high": 8846.23,
                "fifty_two_week_low": 7682.45,
                "market_cap": None,
                "pe_ratio": 12.4,
                "dividend_yield": 0.0356,
                "timestamp": _ts(),
            },
            "dax": {
                "symbol": "^GDAXI",
                "name": "DAX",
                "current_price": 22156.78,
                "previous_close": 22063.89,
                "open_price": 22078.34,
                "day_high": 22198.45,
                "day_low": 22034.12,
                "volume": 456_789_012,
                "change": 92.89,
                "change_percent": 0.42,
                "fifty_two_week_high": 22456.12,
                "fifty_two_week_low": 17024.56,
                "market_cap": None,
                "pe_ratio": 15.2,
                "dividend_yield": 0.0268,
                "timestamp": _ts(),
            },
            "hang_seng": {
                "symbol": "^HSI",
                "name": "Hang Seng Index",
                "current_price": 22567.89,
                "previous_close": 22293.12,
                "open_price": 22312.45,
                "day_high": 22634.78,
                "day_low": 22278.90,
                "volume": 2_345_678_901,
                "change": 274.77,
                "change_percent": 1.23,
                "fifty_two_week_high": 23478.56,
                "fifty_two_week_low": 16234.89,
                "market_cap": None,
                "pe_ratio": 10.2,
                "dividend_yield": 0.0312,
                "timestamp": _ts(),
            },
            "shanghai": {
                "symbol": "000001.SS",
                "name": "SSE Composite Index",
                "current_price": 3312.56,
                "previous_close": 3298.45,
                "open_price": 3302.12,
                "day_high": 3324.78,
                "day_low": 3294.34,
                "volume": 3_456_789_012,
                "change": 14.11,
                "change_percent": 0.43,
                "fifty_two_week_high": 3674.89,
                "fifty_two_week_low": 2886.24,
                "market_cap": None,
                "pe_ratio": 13.6,
                "dividend_yield": 0.0228,
                "timestamp": _ts(),
            },
            "nifty50": {
                "symbol": "^NSEI",
                "name": "NIFTY 50",
                "current_price": 23456.78,
                "previous_close": 23389.12,
                "open_price": 23402.45,
                "day_high": 23512.34,
                "day_low": 23367.89,
                "volume": 1_234_567_890,
                "change": 67.66,
                "change_percent": 0.29,
                "fifty_two_week_high": 26277.35,
                "fifty_two_week_low": 21281.45,
                "market_cap": None,
                "pe_ratio": 22.8,
                "dividend_yield": 0.0128,
                "timestamp": _ts(),
            },
        },
        "sectors": {
            "technology": 1.2,
            "healthcare": 0.8,
            "financials": 0.3,
            "consumer_discretionary": -0.9,
            "consumer_staples": 0.15,
            "industrials": 0.6,
            "energy": -0.5,
            "materials": -0.3,
            "utilities": 0.1,
            "real_estate": -0.22,
            "communication": 0.45,
        },
        "vix": {
            "symbol": "^VIX",
            "name": "CBOE Volatility Index",
            "current_price": 16.32,
            "previous_close": 16.86,
            "open_price": 16.71,
            "day_high": 17.04,
            "day_low": 16.18,
            "volume": 0,
            "change": -0.54,
            "change_percent": -3.18,
            "fifty_two_week_high": 38.57,
            "fifty_two_week_low": 11.52,
            "market_cap": None,
            "pe_ratio": None,
            "dividend_yield": None,
            "timestamp": _ts(),
        },
    }


def get_mock_fx() -> dict:
    """Mock data matching FXClient.get_fx_summary() shape."""
    return {
        "dxy": {
            "value": 106.82,
            "change": -0.16,
            "change_percent": -0.15,
            "day_high": 107.12,
            "day_low": 106.54,
            "timestamp": _ts(),
        },
        "pairs": {
            "eurusd": {
                "pair": "EURUSD",
                "rate": 1.0432,
                "change": 0.0019,
                "change_percent": 0.18,
                "day_high": 1.0458,
                "day_low": 1.0401,
                "fifty_two_week_high": 1.1214,
                "fifty_two_week_low": 1.0178,
                "timestamp": _ts(),
            },
            "usdjpy": {
                "pair": "USDJPY",
                "rate": 152.14,
                "change": -0.34,
                "change_percent": -0.22,
                "day_high": 152.78,
                "day_low": 151.89,
                "fifty_two_week_high": 161.95,
                "fifty_two_week_low": 140.25,
                "timestamp": _ts(),
            },
            "gbpusd": {
                "pair": "GBPUSD",
                "rate": 1.2589,
                "change": 0.0011,
                "change_percent": 0.09,
                "day_high": 1.2612,
                "day_low": 1.2556,
                "fifty_two_week_high": 1.3045,
                "fifty_two_week_low": 1.2099,
                "timestamp": _ts(),
            },
            "usdchf": {
                "pair": "USDCHF",
                "rate": 0.9024,
                "change": -0.001,
                "change_percent": -0.11,
                "day_high": 0.9048,
                "day_low": 0.9001,
                "fifty_two_week_high": 0.9223,
                "fifty_two_week_low": 0.8378,
                "timestamp": _ts(),
            },
            "audusd": {
                "pair": "AUDUSD",
                "rate": 0.6345,
                "change": 0.002,
                "change_percent": 0.32,
                "day_high": 0.6368,
                "day_low": 0.6312,
                "fifty_two_week_high": 0.6942,
                "fifty_two_week_low": 0.6171,
                "timestamp": _ts(),
            },
            "usdcad": {
                "pair": "USDCAD",
                "rate": 1.4412,
                "change": 0.0018,
                "change_percent": 0.12,
                "day_high": 1.4438,
                "day_low": 1.4378,
                "fifty_two_week_high": 1.4518,
                "fifty_two_week_low": 1.3417,
                "timestamp": _ts(),
            },
            "usdcnh": {
                "pair": "USDCNH",
                "rate": 7.2834,
                "change": 0.0102,
                "change_percent": 0.14,
                "day_high": 7.2912,
                "day_low": 7.2698,
                "fifty_two_week_high": 7.3698,
                "fifty_two_week_low": 7.0198,
                "timestamp": _ts(),
            },
            "usdmxn": {
                "pair": "USDMXN",
                "rate": 20.42,
                "change": 0.08,
                "change_percent": 0.39,
                "day_high": 20.51,
                "day_low": 20.32,
                "fifty_two_week_high": 20.83,
                "fifty_two_week_low": 16.91,
                "timestamp": _ts(),
            },
            "usdbrl": {
                "pair": "USDBRL",
                "rate": 5.78,
                "change": 0.04,
                "change_percent": 0.69,
                "day_high": 5.82,
                "day_low": 5.73,
                "fifty_two_week_high": 6.12,
                "fifty_two_week_low": 4.85,
                "timestamp": _ts(),
            },
        },
        "usd_strength_index": 0.12,
        "timestamp": _ts(),
    }


def get_mock_commodities() -> dict:
    """Mock data matching CommodityClient.get_commodity_summary() shape."""
    return {
        "precious_metals": {
            "gold": {
                "symbol": "gold",
                "name": "Gold Futures",
                "price": 2918.40,
                "change": 12.18,
                "change_percent": 0.42,
                "day_high": 2926.50,
                "day_low": 2904.30,
                "volume": 182_340,
                "fifty_two_week_high": 2956.20,
                "fifty_two_week_low": 2287.40,
                "timestamp": _ts(),
            },
            "silver": {
                "symbol": "silver",
                "name": "Silver Futures",
                "price": 32.56,
                "change": 0.29,
                "change_percent": 0.89,
                "day_high": 32.78,
                "day_low": 32.14,
                "volume": 67_890,
                "fifty_two_week_high": 34.87,
                "fifty_two_week_low": 22.18,
                "timestamp": _ts(),
            },
        },
        "energy": {
            "wti_crude": {
                "symbol": "wti_crude",
                "name": "Crude Oil WTI",
                "price": 71.24,
                "change": -0.81,
                "change_percent": -1.12,
                "day_high": 72.34,
                "day_low": 70.89,
                "volume": 345_678,
                "fifty_two_week_high": 87.67,
                "fifty_two_week_low": 64.38,
                "timestamp": _ts(),
            },
            "brent_crude": {
                "symbol": "brent_crude",
                "name": "Crude Oil Brent",
                "price": 75.18,
                "change": -0.62,
                "change_percent": -0.82,
                "day_high": 76.12,
                "day_low": 74.89,
                "volume": 234_567,
                "fifty_two_week_high": 91.23,
                "fifty_two_week_low": 68.45,
                "timestamp": _ts(),
            },
            "natural_gas": {
                "symbol": "natural_gas",
                "name": "Natural Gas Futures",
                "price": 3.87,
                "change": 0.09,
                "change_percent": 2.34,
                "day_high": 3.92,
                "day_low": 3.76,
                "volume": 123_456,
                "fifty_two_week_high": 4.56,
                "fifty_two_week_low": 1.52,
                "timestamp": _ts(),
            },
        },
        "agriculture": {
            "corn": {
                "symbol": "corn",
                "name": "Corn Futures",
                "price": 4.82,
                "change": 0.03,
                "change_percent": 0.63,
                "day_high": 4.86,
                "day_low": 4.78,
                "volume": 89_012,
                "fifty_two_week_high": 5.34,
                "fifty_two_week_low": 3.98,
                "timestamp": _ts(),
            },
            "wheat": {
                "symbol": "wheat",
                "name": "Wheat Futures",
                "price": 5.67,
                "change": -0.04,
                "change_percent": -0.70,
                "day_high": 5.74,
                "day_low": 5.62,
                "volume": 56_789,
                "fifty_two_week_high": 7.12,
                "fifty_two_week_low": 5.23,
                "timestamp": _ts(),
            },
            "soybeans": {
                "symbol": "soybeans",
                "name": "Soybean Futures",
                "price": 10.34,
                "change": 0.08,
                "change_percent": 0.78,
                "day_high": 10.42,
                "day_low": 10.24,
                "volume": 67_890,
                "fifty_two_week_high": 12.45,
                "fifty_two_week_low": 9.78,
                "timestamp": _ts(),
            },
        },
        "industrial": {
            "copper": {
                "symbol": "copper",
                "name": "Copper Futures",
                "price": 4.21,
                "change": 0.02,
                "change_percent": 0.56,
                "day_high": 4.25,
                "day_low": 4.17,
                "volume": 78_901,
                "fifty_two_week_high": 5.12,
                "fifty_two_week_low": 3.56,
                "timestamp": _ts(),
            },
        },
        "timestamp": _ts(),
    }


def get_mock_reddit_sentiment() -> dict:
    """Mock data matching RedditClient.get_overall_sentiment() + per-sub breakdown."""
    subs = {
        "wallstreetbets": {
            "subreddit": "wallstreetbets",
            "post_count": 87,
            "avg_score": 342.6,
            "avg_comments": 128.4,
            "top_tickers": [["NVDA", 34], ["TSLA", 28], ["AMD", 19], ["AAPL", 15], ["GME", 12]],
            "sentiment_score": 0.38,
            "bullish_ratio": 0.64,
            "timestamp": _ts(),
        },
        "stocks": {
            "subreddit": "stocks",
            "post_count": 62,
            "avg_score": 189.2,
            "avg_comments": 74.8,
            "top_tickers": [["AAPL", 22], ["MSFT", 18], ["GOOGL", 14], ["AMZN", 11], ["META", 9]],
            "sentiment_score": 0.22,
            "bullish_ratio": 0.58,
            "timestamp": _ts(),
        },
        "investing": {
            "subreddit": "investing",
            "post_count": 45,
            "avg_score": 156.3,
            "avg_comments": 62.1,
            "top_tickers": [["VOO", 16], ["VTI", 12], ["SCHD", 9], ["AAPL", 8], ["BRK.B", 7]],
            "sentiment_score": 0.15,
            "bullish_ratio": 0.55,
            "timestamp": _ts(),
        },
        "cryptocurrency": {
            "subreddit": "cryptocurrency",
            "post_count": 78,
            "avg_score": 267.4,
            "avg_comments": 95.6,
            "top_tickers": [["BTC", 45], ["ETH", 32], ["SOL", 21], ["ADA", 14], ["XRP", 11]],
            "sentiment_score": 0.42,
            "bullish_ratio": 0.67,
            "timestamp": _ts(),
        },
        "Bitcoin": {
            "subreddit": "Bitcoin",
            "post_count": 54,
            "avg_score": 312.8,
            "avg_comments": 83.2,
            "top_tickers": [["BTC", 54], ["ETH", 8], ["MSTR", 6]],
            "sentiment_score": 0.56,
            "bullish_ratio": 0.74,
            "timestamp": _ts(),
        },
        "ethereum": {
            "subreddit": "ethereum",
            "post_count": 41,
            "avg_score": 198.5,
            "avg_comments": 67.3,
            "top_tickers": [["ETH", 41], ["BTC", 12], ["SOL", 5]],
            "sentiment_score": 0.31,
            "bullish_ratio": 0.62,
            "timestamp": _ts(),
        },
        "options": {
            "subreddit": "options",
            "post_count": 38,
            "avg_score": 124.7,
            "avg_comments": 56.9,
            "top_tickers": [["SPY", 28], ["QQQ", 18], ["TSLA", 15], ["NVDA", 12], ["AAPL", 9]],
            "sentiment_score": -0.08,
            "bullish_ratio": 0.47,
            "timestamp": _ts(),
        },
        "SPACs": {
            "subreddit": "SPACs",
            "post_count": 19,
            "avg_score": 45.2,
            "avg_comments": 22.4,
            "top_tickers": [["DWAC", 8], ["PSNY", 5], ["LCID", 4]],
            "sentiment_score": -0.12,
            "bullish_ratio": 0.42,
            "timestamp": _ts(),
        },
    }
    total_posts = sum(s["post_count"] for s in subs.values())
    weighted_sentiment = sum(
        s["sentiment_score"] * s["post_count"] for s in subs.values()
    ) / total_posts
    weighted_bullish = sum(
        s["bullish_ratio"] * s["post_count"] for s in subs.values()
    ) / total_posts
    return {
        "overall": {
            "overall_sentiment": round(weighted_sentiment, 4),
            "overall_bullish_ratio": round(weighted_bullish, 4),
            "total_posts_analyzed": total_posts,
            "subreddit_count": len(subs),
            "trending_tickers": [
                ["NVDA", 46], ["BTC", 111], ["ETH", 81], ["TSLA", 43],
                ["AAPL", 54], ["SOL", 26], ["AMD", 19], ["MSFT", 18],
                ["SPY", 28], ["GME", 12],
            ],
            "timestamp": _ts(),
        },
        "subreddits": subs,
    }


def get_mock_reddit_posts() -> dict:
    """Mock data matching list of RedditPost.to_dict()."""
    return {
        "posts": [
            {
                "title": "NVDA earnings blew past expectations — $40B revenue quarter",
                "subreddit": "wallstreetbets",
                "score": 8742,
                "num_comments": 2341,
                "created_utc": _ts(),
                "url": "https://reddit.com/r/wallstreetbets/comments/example1",
                "is_self": True,
                "tickers": ["NVDA"],
            },
            {
                "title": "BTC breaking $100k was just the beginning — here's why",
                "subreddit": "Bitcoin",
                "score": 6218,
                "num_comments": 1567,
                "created_utc": _ts(),
                "url": "https://reddit.com/r/Bitcoin/comments/example2",
                "is_self": True,
                "tickers": ["BTC"],
            },
            {
                "title": "TSLA autonomous driving demo was underwhelming. Puts printing.",
                "subreddit": "wallstreetbets",
                "score": 5934,
                "num_comments": 1823,
                "created_utc": _ts(),
                "url": "https://reddit.com/r/wallstreetbets/comments/example3",
                "is_self": True,
                "tickers": ["TSLA"],
            },
            {
                "title": "ETH layer 2 adoption is accelerating — weekly active addresses up 340%",
                "subreddit": "ethereum",
                "score": 4521,
                "num_comments": 876,
                "created_utc": _ts(),
                "url": "https://reddit.com/r/ethereum/comments/example4",
                "is_self": True,
                "tickers": ["ETH"],
            },
            {
                "title": "Why AAPL's services revenue is the most underappreciated growth story",
                "subreddit": "stocks",
                "score": 3892,
                "num_comments": 654,
                "created_utc": _ts(),
                "url": "https://reddit.com/r/stocks/comments/example5",
                "is_self": True,
                "tickers": ["AAPL"],
            },
            {
                "title": "SPY 0DTE options volume hit all-time record today",
                "subreddit": "options",
                "score": 3241,
                "num_comments": 542,
                "created_utc": _ts(),
                "url": "https://reddit.com/r/options/comments/example6",
                "is_self": True,
                "tickers": ["SPY"],
            },
            {
                "title": "SOL ecosystem TVL surpasses $15B — DeFi summer 2.0?",
                "subreddit": "cryptocurrency",
                "score": 2987,
                "num_comments": 723,
                "created_utc": _ts(),
                "url": "https://reddit.com/r/cryptocurrency/comments/example7",
                "is_self": True,
                "tickers": ["SOL"],
            },
            {
                "title": "AMD MI300X benchmarks show it competing with H100 at half the price",
                "subreddit": "stocks",
                "score": 2876,
                "num_comments": 498,
                "created_utc": _ts(),
                "url": "https://reddit.com/r/stocks/comments/example8",
                "is_self": True,
                "tickers": ["AMD", "NVDA"],
            },
            {
                "title": "VOO vs VTI — which total market ETF for a 30-year horizon?",
                "subreddit": "investing",
                "score": 2341,
                "num_comments": 387,
                "created_utc": _ts(),
                "url": "https://reddit.com/r/investing/comments/example9",
                "is_self": True,
                "tickers": ["VOO", "VTI"],
            },
            {
                "title": "GME short interest climbing again — 22% of float",
                "subreddit": "wallstreetbets",
                "score": 2198,
                "num_comments": 1245,
                "created_utc": _ts(),
                "url": "https://reddit.com/r/wallstreetbets/comments/example10",
                "is_self": True,
                "tickers": ["GME"],
            },
        ],
    }


def get_mock_reddit_trending() -> dict:
    """Mock data matching RedditClient.get_trending_tickers() shape."""
    return {
        "tickers": [
            {"symbol": "BTC", "mentions": 111},
            {"symbol": "ETH", "mentions": 81},
            {"symbol": "AAPL", "mentions": 54},
            {"symbol": "NVDA", "mentions": 46},
            {"symbol": "TSLA", "mentions": 43},
            {"symbol": "SPY", "mentions": 28},
            {"symbol": "SOL", "mentions": 26},
            {"symbol": "AMD", "mentions": 19},
            {"symbol": "MSFT", "mentions": 18},
            {"symbol": "GOOGL", "mentions": 14},
            {"symbol": "ADA", "mentions": 14},
            {"symbol": "GME", "mentions": 12},
            {"symbol": "QQQ", "mentions": 18},
            {"symbol": "XRP", "mentions": 11},
            {"symbol": "AMZN", "mentions": 11},
        ],
    }


def get_mock_crypto() -> dict:
    """Mock data matching DataAggregator._fetch_crypto() shape."""
    return {
        "assets": {
            "bitcoin": {
                "id": "bitcoin",
                "symbol": "BTC",
                "name": "Bitcoin",
                "current_price": 97432,
                "market_cap": 1_923_000_000_000,
                "market_cap_rank": 1,
                "total_volume": 42_300_000_000,
                "high_24h": 98_120,
                "low_24h": 95_840,
                "price_change_24h": 1790.44,
                "price_change_percentage_24h": 1.87,
                "price_change_percentage_7d": 4.23,
                "price_change_percentage_30d": 12.56,
                "circulating_supply": 19_800_000,
                "total_supply": 21_000_000,
                "ath": 108_786,
                "ath_change_percentage": -10.43,
                "atl": 67.81,
                "timestamp": _ts(),
            },
            "ethereum": {
                "id": "ethereum",
                "symbol": "ETH",
                "name": "Ethereum",
                "current_price": 2712,
                "market_cap": 326_400_000_000,
                "market_cap_rank": 2,
                "total_volume": 18_700_000_000,
                "high_24h": 2748,
                "low_24h": 2656,
                "price_change_24h": 62.34,
                "price_change_percentage_24h": 2.34,
                "price_change_percentage_7d": 5.67,
                "price_change_percentage_30d": 8.92,
                "circulating_supply": 120_200_000,
                "total_supply": None,
                "ath": 4878.26,
                "ath_change_percentage": -44.41,
                "atl": 0.432979,
                "timestamp": _ts(),
            },
            "solana": {
                "id": "solana",
                "symbol": "SOL",
                "name": "Solana",
                "current_price": 186.42,
                "market_cap": 90_200_000_000,
                "market_cap_rank": 5,
                "total_volume": 4_560_000_000,
                "high_24h": 189.78,
                "low_24h": 181.23,
                "price_change_24h": 5.64,
                "price_change_percentage_24h": 3.12,
                "price_change_percentage_7d": 8.45,
                "price_change_percentage_30d": 15.23,
                "circulating_supply": 483_700_000,
                "total_supply": 590_000_000,
                "ath": 259.96,
                "ath_change_percentage": -28.28,
                "atl": 0.500801,
                "timestamp": _ts(),
            },
            "binancecoin": {
                "id": "binancecoin",
                "symbol": "BNB",
                "name": "BNB",
                "current_price": 632.18,
                "market_cap": 92_300_000_000,
                "market_cap_rank": 4,
                "total_volume": 1_890_000_000,
                "high_24h": 635.42,
                "low_24h": 628.90,
                "price_change_24h": 2.84,
                "price_change_percentage_24h": 0.45,
                "price_change_percentage_7d": 2.12,
                "price_change_percentage_30d": 6.78,
                "circulating_supply": 145_900_000,
                "total_supply": 145_900_000,
                "ath": 793.35,
                "ath_change_percentage": -20.32,
                "atl": 0.0398,
                "timestamp": _ts(),
            },
            "ripple": {
                "id": "ripple",
                "symbol": "XRP",
                "name": "XRP",
                "current_price": 2.67,
                "market_cap": 153_400_000_000,
                "market_cap_rank": 3,
                "total_volume": 5_670_000_000,
                "high_24h": 2.72,
                "low_24h": 2.64,
                "price_change_24h": -0.024,
                "price_change_percentage_24h": -0.89,
                "price_change_percentage_7d": 1.23,
                "price_change_percentage_30d": 18.45,
                "circulating_supply": 57_400_000_000,
                "total_supply": 99_988_000_000,
                "ath": 3.84,
                "ath_change_percentage": -30.47,
                "atl": 0.002802,
                "timestamp": _ts(),
            },
            "cardano": {
                "id": "cardano",
                "symbol": "ADA",
                "name": "Cardano",
                "current_price": 0.782,
                "market_cap": 27_800_000_000,
                "market_cap_rank": 8,
                "total_volume": 890_000_000,
                "high_24h": 0.796,
                "low_24h": 0.768,
                "price_change_24h": 0.0095,
                "price_change_percentage_24h": 1.23,
                "price_change_percentage_7d": 3.45,
                "price_change_percentage_30d": 9.87,
                "circulating_supply": 35_500_000_000,
                "total_supply": 45_000_000_000,
                "ath": 3.09,
                "ath_change_percentage": -74.69,
                "atl": 0.01925,
                "timestamp": _ts(),
            },
        },
        "market_overview": {
            "total_market_cap": 3_420_000_000_000,
            "total_volume": 142_000_000_000,
            "btc_dominance": 56.23,
            "eth_dominance": 9.54,
            "market_cap_change_24h": 1.42,
            "active_cryptocurrencies": 14_832,
            "timestamp": _ts(),
        },
        "fear_greed": {
            "value": 62.4,
            "classification": "Greed",
            "components": {
                "price_momentum": 59.4,
                "ath_distance": 89.6,
                "dominance": 43.8,
            },
            "timestamp": _ts(),
        },
    }
